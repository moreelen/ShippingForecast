
// jQuery Plugin: jKit
// A very easy to use, cross platform jQuery UI toolkit that's still small in size, has the features you need and doesn't get in your way.
// Version 1.2.16 - 10. May. 2013
// http://jquery-jkit.com/
//
// by Fredi Bach
// http://fredibach.ch/jquery-plugins/

plugin.commands.carousel=function(){var a={};return plugin.addCommandDefaults("carousel",{autoplay:"yes",limit:5,animation:"grow",speed:250,easing:"linear",interval:5e3,prevhtml:"&lt;",nexthtml:"&gt;"}),a.execute=function(a,b){var c=plugin.settings,d=0;a.children().each(function(){d++,d>b.limit&&$(this).hide()});var e=$("<a/>",{"class":c.prefix+"-carousel-prev"}).html(b.prevhtml).on("click left",function(){carousel(a,b,"prev")}).insertAfter(a),f=$("<a/>",{"class":c.prefix+"-carousel-next"}).html(b.nexthtml).on("click right",function(){carousel(a,b,"next")}).insertAfter(a);plugin.addKeypressEvents(e,"left"),plugin.addKeypressEvents(f,"right"),"yes"==b.autoplay&&window.setTimeout(function(){carousel(a,b)},b.interval)},carousel=function(a,b,c){if(void 0!=c&&(b.autoplay=!1),(windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(a.jKit_inViewport()||!a.jKit_inViewport()&&plugin.settings.ignoreViewport)){var d=!1;if(a.children().each(function(){$(this).is(":animated")&&(d=!0)}),!d){var e=Math.min(b.limit,a.children().length);"next"==c||void 0==c?(plugin.triggerEvent("shownext",a,b),a.children(":first-child").jKit_effect(!1,b.animation,b.speed,b.easing,0,function(){a.append(a.children(":nth-child(1)")),a.children(":nth-child("+e+")").jKit_effect(!0,b.animation,b.speed,b.easing,0)})):"prev"==c&&(plugin.triggerEvent("showprev",a,b),a.children(":nth-child("+e+")").jKit_effect(!1,b.animation,b.speed,b.easing,0,function(){a.prepend(a.children(":last-child")),a.children(":first-child").jKit_effect(!0,b.animation,b.speed,b.easing,0)}))}"yes"==b.autoplay&&window.setTimeout(function(){carousel(a,b)},b.interval)}else window.setTimeout(function(){carousel(a,b)},b.interval)},a}();

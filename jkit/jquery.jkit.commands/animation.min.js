
// jQuery Plugin: jKit
// A very easy to use, cross platform jQuery UI toolkit that's still small in size, has the features you need and doesn't get in your way.
// Version 1.2.16 - 10. May. 2013
// http://jquery-jkit.com/
//
// by Fredi Bach
// http://fredibach.ch/jquery-plugins/

plugin.commands.animation=function(){var a={};plugin.addCommandDefaults("animation",{fps:25,loop:"no",from:"",to:"",speed:"500",easing:"linear",delay:0,on:""}),a.execute=function(a,c){var d=plugin.settings;if(""!=c.to)""!=c.from&&a.css(plugin.cssFromString(c.from)),setTimeout(function(){""!=c.on?a.on(c.on,function(){a.animate(plugin.cssFromString(c.to),c.speed,c.easing,function(){void 0!=c.macro&&plugin.applyMacro(a,c.macro),plugin.triggerEvent("complete",a,c)})}):a.animate(plugin.cssFromString(c.to),c.speed,c.easing,function(){void 0!=c.macro&&plugin.applyMacro($el,c.macro),plugin.triggerEvent("complete",a,c)})},c.delay);else{c.interval=1e3/c.fps;var e=[],f=0,g=0;a.children().each(function(){var a=$(this).attr("rel"),b=$(this).attr(d.dataAttribute);if(void 0!=b)var c=b.indexOf("["),h=b.indexOf("]"),i=b.substring(c+1,h);else var c=a.indexOf("["),h=a.indexOf("]"),i=a.substring(c+1,h);var j=plugin.parseOptions(i);j.el=$(this),void 0==j.easing&&(j.easing="linear"),j.start=f,f+=parseInt(j.steps),j.end=f,g=f,f++,e.push(j)}),c.lastframe=g,a.css("overflow","hidden"),a.html(e[0].el),window.setTimeout(function(){b(e,-1,a,c)},0)}};var b=function(a,c,d,e){if((windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(d.jKit_inViewport()||!d.jKit_inViewport()&&plugin.settings.ignoreViewport)){plugin.triggerEvent("showframe showframe"+(c+1),d,e),$.each(a,function(b,f){if(f.start==c){d.html(f.el.clone());var g=(f.end-f.start)*e.interval;if("fadeout"==f.action)d.children(":first").show().fadeTo(g,0,f.easing);else if("fadein"==f.action)d.children(":first").hide().fadeTo(g,1,f.easing);else if("fadeinout"==f.action)d.children(":first").hide().fadeTo(g/2,1,f.easing).fadeTo(g/2,0,f.easing);else if("tween"==f.action){var h=a[b+1].el;d.children(":first").animate({"font-size":h.css("font-size"),"letter-spacing":h.css("letter-spacing"),color:h.css("color"),opacity:h.css("opacity"),"background-color":h.css("background-color"),"padding-top":h.css("padding-top"),"padding-bottom":h.css("padding-bottom"),"padding-left":h.css("padding-left"),"padding-right":h.css("padding-right")},g,f.easing)}}}),c++;var f=!1;c>e.lastframe&&(c=0,f=!0),(f&&"yes"==e.loop||!f)&&window.setTimeout(function(){b(a,c,d,e)},e.interval),"no"==e.loop&&(void 0!=e.macro&&plugin.applyMacro(d,e.macro),plugin.triggerEvent("complete",d,e))}else window.setTimeout(function(){b(a,c,d,e)},e.interval)};return a}();

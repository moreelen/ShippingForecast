
// jQuery Plugin: jKit
// A very easy to use, cross platform jQuery UI toolkit that's still small in size, has the features you need and doesn't get in your way.
// Version 1.2.16 - 10. May. 2013
// http://jquery-jkit.com/
//
// by Fredi Bach
// http://fredibach.ch/jquery-plugins/

plugin.commands.accordion=function(){var a={};return plugin.addCommandDefaults("accordion",{active:1,animation:"slide",speed:250,easing:"linear"}),a.execute=function(a,b){var c=plugin.settings,d=plugin.findElementTag(a,">","max","div"),e=plugin.findElementTag(a,"> "+d+" >",0,"h3"),f=plugin.findElementTag(a,"> "+d+" >",1,"div"),g=[];a.children(d).each(function(){g.push({title:$(this).children(e).detach(),content:$(this).children(f).detach()})}),a.html("");var h=$("<ul/>",{}).appendTo(a),i=1;0==b.active&&(i=-1),$.each(g,function(d,g){var j=$("<li/>",{}).append(g.title).css("cursor","pointer").appendTo(h);b.active-1==d?(j.append(g.content).children(e).addClass(c.activeClass),i=d):j.append(g.content.hide()),j.find("> "+e).on("click",function(){d!=i?(plugin.triggerEvent("showentry showentry"+(d+1),a,b),h.find("> li > "+e).removeClass(c.activeClass),$(this).addClass(c.activeClass),"slide"==b.animation?(h.find("> li:nth-child("+(i+1)+") > "+f).slideUp(b.speed,b.easing),h.find("> li:nth-child("+(d+1)+") > "+f).slideDown(b.speed,b.easing)):(h.find("> li:nth-child("+(i+1)+") > "+f).hide(),h.find("> li:nth-child("+(d+1)+") > "+f).show()),i=d):(plugin.triggerEvent("hideentry hideentry"+(d+1),a,b),$(this).removeClass(c.activeClass).next().slideUp(b.speed,b.easing),i=-1)})})},a}();
